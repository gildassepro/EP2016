<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<ui:remove>
		<!--
	    	Hint to editors: The menus follow the Chicago style of capitalization. Please capitalize everything but the "smaller" words. 
	     -->
	</ui:remove>
	<a href="index.xhtml" class="logo">Education Portal</a>
	<!-- Header Navbar: style can be found in header.less -->
	<nav class="navbar navbar-custom navbar-static-top" role="navigation">
		<!-- Sidebar toggle button-->
		<a href="#" class="navbar-btn sidebar-toggle hidden-md hidden-lg"
			data-toggle="offcanvas" data-target="#side-menu" role="button"> <span
			class="sr-only">Toggle navigation</span> <span class="icon-bar"></span>
			<span class="icon-bar"></span> <span class="icon-bar"></span>
		</a>
		<div class="navbar-left">
			<b:navbarLinks>
				<b:dropMenu value="Modules" styleClass="user user-menu" icon="fa fa-caret" iconAlign="right">
					<c:set var="modm" value="#{userServiceBean.selectedModule}"/>
					<c:set var="modl" value="0"/>
					<ui:fragment rendered="#{modm eq modl}">
						<ui:repeat var="module" value="#{userServiceBean.listModules}">
							<b:navLink style="user user-menu" styleClass="dropdown-custom dropdown-menu-right"
								value="#{module.moduleName}" href="#{module.moduleRef}?module=#{module.idModule}" />
						</ui:repeat>
					</ui:fragment>
					<ui:fragment rendered="#{modm ne modl}">
						<ui:repeat var="module" value="#{userServiceBean.listModules}">
							<b:navLink style="user user-menu" styleClass="dropdown-custom dropdown-menu-right"
								value="#{module.moduleName}" href="../#{module.moduleRef}?module=#{module.idModule}"/>
						</ui:repeat>
					</ui:fragment>
				</b:dropMenu>
			</b:navbarLinks>
		</div>
		<div class="navbar-right">
			<ul class="nav navbar-nav">
				<li class="dropdown user user-menu">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<i class="fa fa-user"></i>
						<span>
							#{messages.label_user_welcome}
							#{userServiceBean.userlogin}
							<i class="caret"></i>
						</span>
					</a>
					<ul class="dropdown-menu dropdown-custom dropdown-menu-right">
						<li class="dropdown-header text-center">
							#{messages.label_user_lastconnection}
						</li>
						<li>
							<a href="#">
								<i class="fa fa-question fa-fw pull-right"></i>
								#{userServiceBean.lastConnection}
							</a>
						</li>
						<li class="divider"></li>
						<li>
							<ui:fragment rendered="#{modm eq modl}">
								<a href="../logout">
								<i class="fa fa-ban fa-fw pull-right"></i>
								Logout
							   </a>
							</ui:fragment>
							<ui:fragment rendered="#{modm ne modl}">
								<a href="../../logout">
								<i class="fa fa-ban fa-fw pull-right"></i>
								Logout
							   </a>
							</ui:fragment>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</nav>
</ui:fragment>
